
---
title: "Ã‡ok DeÄŸiÅŸkenli Ã‡Ã¶zÃ¼mleme DÃ¶nem Ã–devi"
author: "Mehmet Åenel"
date: "`r Sys.Date()`"
output: html_document
---

## <span style="color:red">Soru 1</span>
Verilen matrislerin pozitif tanÄ±mlÄ± olup olmadÄ±ÄŸÄ±nÄ± belirleyiniz:

- **A**  
  \[
  \begin{bmatrix}
  5 & -4 & 3 \\
  4 & 3 & 2 \\
  3 & 2 & 2 \\
  \end{bmatrix}
  \]

- **B**  
  \[
  \begin{bmatrix}
  4 & -3 & 1 \\
  -3 & 4 & 2 \\
  1 & 2 & 3 \\
  \end{bmatrix}
  \]

- **C**  
  \[
  \begin{bmatrix}
  3 & 2 & 1 \\
  2 & 6 & 3 \\
  1 & 3 & 1 \\
  \end{bmatrix}
  \]

- **D**  
  \[
  \begin{bmatrix}
  3 & 3 & 1 \\
  3 & 4 & 2 \\
  1 & 2 & 2 \\
  \end{bmatrix}
  \]
  
## <span style="color:red">Ã‡Ã¶zÃ¼m 1</span>

### Pozitif TanÄ±mlÄ±lÄ±k Nedir?
Bir matrisin pozitif tanÄ±mlÄ± olabilmesi iÃ§in:

1. **Simetrik** olmasÄ± gerekir.
2. **TÃ¼m Ã¶zdeÄŸerlerinin pozitif olmasÄ±** gerekir.

Bu kriterlerden biri saÄŸlanmazsa, matris pozitif tanÄ±mlÄ± deÄŸildir.

---

#### Matrislerin TanÄ±mlanmasÄ±
```{r}
# Matrislerin tanÄ±mlanmasÄ±
A <- matrix(c(5, -4, 3,
              4, 3, 2,
              3, 2, 2), nrow = 3, byrow = TRUE)

B <- matrix(c(4, -3, 1,
              -3, 4, 2,
              1, 2, 3), nrow = 3, byrow = TRUE)

C <- matrix(c(3, 2, 1,
              2, 6, 3,
              1, 3, 1), nrow = 3, byrow = TRUE)

D <- matrix(c(3, 3, 1,
              3, 4, 2,
              1, 2, 2), nrow = 3, byrow = TRUE)
```

#### Ã–zdeÄŸer KontrolÃ¼
```{r}
# Pozitif tanÄ±mlÄ±lÄ±ÄŸÄ± kontrol eden fonksiyon (Ã¶zdeÄŸer yÃ¶ntemi)
is_positive_definite <- function(mat) {
  eigenvalues <- eigen(mat)$values
  all(Re(eigenvalues) > 0) # Sadece gerÃ§ek kÄ±smÄ±nÄ± kontrol et
}
```
- OluÅŸturulan fonksiyona istinaden matrisler sÄ±rasÄ±yla kontrol edilir,
Ã§Ä±kan cevap "False" ise matrisin pozitif tanÄ±mlÄ± olmadÄ±ÄŸÄ± ,
Ã§Ä±kan cevap "True" ise matrisin pozitif tanÄ±mlÄ± olduÄŸu anlaÅŸÄ±lmaktadÄ±r.


#### Matrislerin kontrolÃ¼
```{r}
# SonuÃ§larÄ± bir tabloya dÃ¶kme
results <- data.frame(
  Matris = c("A", "B", "C", "D"),
  Pozitif_Tanimli = c(
    is_positive_definite(A),
    is_positive_definite(B),
    is_positive_definite(C),
    is_positive_definite(D)
  )
)

# Tablo formatÄ±nda sonuÃ§larÄ± gÃ¶ster
knitr::kable(results, caption = "Matrislerin Pozitif TanÄ±mlÄ±lÄ±k SonuÃ§larÄ±")

```


## <span style="color:red">Soru 2</span>
Verilen yoÄŸunluk fonksiyonu:

\[
f(x) = k e^{-\frac{1}{2} Q}
\]

Burada \( Q \) fonksiyonu ÅŸu ÅŸekilde verilmiÅŸtir:

\[
Q = x_1^2 + 5x_2^2 + 2x_3^2 + 6x_2x_3 - 4x_1 - 8x_2 - 6x_3 + 9
\]

YoÄŸunluk fonksiyonunun yayÄ±lÄ±m parametresi ve ortalama vektÃ¶rÃ¼nÃ¼ hesaplayÄ±nÄ±z. En yÃ¼ksek yayÄ±lÄ±ma ve en dÃ¼ÅŸÃ¼k ortalamaya sahip olan deÄŸiÅŸkenleri belirleyiniz.

## <span style="color:red">Ã‡Ã¶zÃ¼m 2</span>

### 1. \( Q \) Fonksiyonunun Temsili

Verilen \( Q \) fonksiyonu ÅŸu ÅŸekilde verilmiÅŸtir:

\[
Q = x_1^2 + 5x_2^2 + 2x_3^2 + 6x_2x_3 - 4x_1 - 8x_2 - 6x_3 + 9
\]

\[
f(x) = k \cdot e^{-\frac{1}{2} Q}
\]

### Matematiksel Ã‡Ã¶zÃ¼m

#### AdÄ±mlar:

1. **Kovaryans Matrisi** (\( A \)): \( Q \)'nun ikinci dereceden terimlerinden tÃ¼retilir.
2. **Ortalama VektÃ¶rÃ¼** (\( \mu \)): FormÃ¼l \( \mu = -\frac{1}{2}A^{-1}b \) ile hesaplanÄ±r.
3. **Varyanslar**: Kovaryans matrisinin kÃ¶ÅŸegen elemanlarÄ±dÄ±r.
4. **SonuÃ§lar**: En yÃ¼ksek varyansa ve en dÃ¼ÅŸÃ¼k ortalamaya sahip deÄŸiÅŸkenler belirlenir.

### Q fonksiyonu iÃ§in matris ve vektÃ¶r temsili

```{r}
knitr::opts_chunk$set(echo = TRUE)
A <- matrix(c(1, 0, 0,
              0, 5, 3,
              0, 3, 2), nrow = 3, byrow = TRUE)  # Kovaryans matrisi
b <- c(-4, -8, -6)  # Lineer terimler
c <- 9  # Sabit terim

```


### Ortalama VektÃ¶rÃ¼ Hesaplama

```{r}
# Ortalama vektÃ¶rÃ¼
mu <- solve(A) %*% (-b / 2)
mu  # Ortalama vektÃ¶rÃ¼
```


### Kovaryans Matrisi ve Varyanslar


```{r}
# YayÄ±lÄ±m matrisi (Kovaryans matrisi)
cov_matrix <- solve(A)

# Varyanslar (Kovaryans matrisinin kÃ¶ÅŸegen elemanlarÄ±)
variances <- diag(cov_matrix)
variances  # Varyanslar

```


### En YÃ¼ksek Varyans ve En DÃ¼ÅŸÃ¼k Ortalama


```{r}
# En yÃ¼ksek varyans ve en dÃ¼ÅŸÃ¼k ortalama
max_variance <- max(variances)
max_var_index <- which(variances == max_variance)
cat("En yÃ¼ksek yayÄ±lÄ±ma sahip deÄŸiÅŸken: x", max_var_index, "\n")

```

```{r , echo=FALSE}
library(ggplot2)

# Varyans grafiÄŸi
df_variances <- data.frame(DeÄŸiÅŸken = c("x1", "x2", "x3"), Varyans = variances)
ggplot(df_variances, aes(x = DeÄŸiÅŸken, y = Varyans, fill = DeÄŸiÅŸken)) +
  geom_bar(stat = "identity", color = "black") +
  theme_minimal() +
  labs(title = "DeÄŸiÅŸkenlere GÃ¶re Varyans", x = "DeÄŸiÅŸken", y = "Varyans") +
  scale_fill_brewer(palette = "Pastel1")

```

- **YukarÄ±da Ã§Ä±ktÄ±da ve Ã¶zellikle grafikte aÃ§Ä±kca gÃ¶rÃ¼ldÃ¼ÄŸÃ¼ Ã¼zere "X3" deÄŸiÅŸkeni en Ã§ok yayÄ±lÄ±ma sahip deÄŸiÅŸkendir.**



```{r}
min_mean <- min(mu)
min_mean_index <- which(mu == min_mean)
cat("En dÃ¼ÅŸÃ¼k ortalamaya sahip deÄŸiÅŸken: x", min_mean_index, "\n")
```


```{r , echo=FALSE}
# Ortalama vektÃ¶rÃ¼ grafiÄŸi
df_means <- data.frame(DeÄŸiÅŸken = c("x1", "x2", "x3"), Ortalama = as.vector(mu))
ggplot(df_means, aes(x = DeÄŸiÅŸken, y = Ortalama, fill = DeÄŸiÅŸken)) +
  geom_bar(stat = "identity", color = "black") +
  theme_minimal() +
  labs(title = "DeÄŸiÅŸkenlere GÃ¶re Ortalama", x = "DeÄŸiÅŸken", y = "Ortalama") +
  scale_fill_brewer(palette = "Set3")


```

-  **YukarÄ±da ki Ã§Ä±ktÄ±da ve grafikte gÃ¶rÃ¼ldÃ¼ÄŸÃ¼ Ã¼zere en dÃ¼ÅŸÃ¼k yayÄ±lÄ±ma sahip deÄŸiÅŸken "X2" olarak yer almÄ±ÅŸtÄ±r.**



## <span style="color:red">Soru 3</span>

Bir biyoloji araÅŸtÄ±rmasÄ±nda, Ã¼Ã§ farklÄ± gÃ¼bre tÃ¼rÃ¼nÃ¼n (Organik, Kimyasal, Kontrol) bitki bÃ¼yÃ¼mesi Ã¼zerindeki etkisi incelenmektedir. AraÅŸtÄ±rmacÄ±, **Bitki Boyu**, **Yaprak AlanÄ±** ve **BiyokÃ¼tle** Ã¶lÃ§Ã¼mlerini kullanarak her bir gruptaki 30 bitkiyi incelemiÅŸtir. GÃ¼bre tÃ¼rleri arasÄ±nda etkinlik aÃ§Ä±sÄ±ndan fark olup olmadÄ±ÄŸÄ±nÄ± sisteme kayÄ±tlÄ± gÃ¼bre veri setini kullanarak R programÄ±nda **%95 gÃ¼ven dÃ¼zeyinde** inceleyerek yorumlayÄ±nÄ±z.

## <span style="color:red">Ã‡Ã¶zÃ¼m</span>

Bu soruyu Ã§Ã¶zmek iÃ§in ANOVA (Varyans Analizi) testi kullanacaÄŸÄ±z. Verimizdeki her bir deÄŸiÅŸken iÃ§in (Bitki Boyu, Yaprak AlanÄ±, BiyokÃ¼tle) gruplar arasÄ±ndaki farkÄ± test edeceÄŸiz. AyrÄ±ca, verilerin normal daÄŸÄ±lÄ±m gÃ¶sterip gÃ¶stermediÄŸini kontrol etmek iÃ§in **Shapiro-Wilk testi** ve **Histogram Grafikleri**, varyanslarÄ±n eÅŸitliÄŸini test etmek iÃ§in ise **Levene testi** uygulanacaktÄ±r.

### 1. Veriyi YÃ¼kleme

Veriyi **`read_excel`** fonksiyonu ile yÃ¼kleyeceÄŸiz ve veri setini inceleyeceÄŸiz.

```{r}
# Gerekli paketleri yÃ¼kleyelim
library(readxl)

# Dosya yolunu belirtelim
gubre_1_ <- read_excel("/Users/mehmetsenel/Desktop/gubre (1).xlsx")

# Ä°lk birkaÃ§ satÄ±rÄ± gÃ¶rÃ¼ntÃ¼leyelim ve estetik formatla gÃ¶sterelim
library(knitr)
kable(head(gubre_1_), caption = "Ä°lk 6 SatÄ±r - GÃ¼bre Verisi", format = "html", align = "c")

```

### 2. GÃ¶rselleÅŸtirme ve Normal DaÄŸÄ±lÄ±m Testi (Shapiro-Wilk)

```{r}
# Shapiro-Wilk testi ile normal daÄŸÄ±lÄ±m kontrolÃ¼
shapiro_test_boyu <- shapiro.test(gubre_1_$`Bitki Boyu (cm)`)
shapiro_test_yaprak <- shapiro.test(gubre_1_$`Yaprak AlanÄ± (cmÂ²)`)
shapiro_test_biyokutle <- shapiro.test(gubre_1_$`BiyokÃ¼tle (g)`)

```

```{r}
shapiro_test_boyu
shapiro_test_yaprak
shapiro_test_biyokutle

```
- Her Ã¼Ã§ deÄŸiÅŸken iÃ§inde p deÄŸeri 0.05 den bÃ¼yÃ¼k olmasÄ± nedeniyle normal daÄŸÄ±lmadÄ±ÄŸÄ±nÄ±(Ã¶dev iÃ§in gÃ¶rmezden gelinicektir.) sÃ¶yleyebiliriz.

```{r}
# Histogramlarla normal daÄŸÄ±lÄ±m kontrolÃ¼
par(mfrow = c(1, 3))
hist(gubre_1_$`Bitki Boyu (cm)`, main = "Bitki Boyu DaÄŸÄ±lÄ±mÄ±", xlab = "Bitki Boyu", col = "lightblue")
hist(gubre_1_$`Yaprak AlanÄ± (cmÂ²)`, main = "Yaprak AlanÄ± DaÄŸÄ±lÄ±mÄ±", xlab = "Yaprak AlanÄ±", col = "lightgreen")
hist(gubre_1_$`BiyokÃ¼tle (g)`, main = "BiyokÃ¼tle DaÄŸÄ±lÄ±mÄ±", xlab = "BiyokÃ¼tle", col = "lightpink")
```


### 3. Varyans homojenliÄŸi kontrolÃ¼
```{r,  message = FALSE, warning = FALSE}
# Levene testi
library(car)
leveneTest(`Bitki Boyu (cm)` ~ Grup, data = gubre_1_)
leveneTest(`Yaprak AlanÄ± (cmÂ²)` ~ Grup, data = gubre_1_)
leveneTest(`BiyokÃ¼tle (g)` ~ Grup, data = gubre_1_)
```


### 4. ANOVA Testi

```{r}
# ANOVA testleri
anova_boyu <- aov(`Bitki Boyu (cm)` ~ Grup, data = gubre_1_)
anova_yaprak <- aov(`Yaprak AlanÄ± (cmÂ²)` ~ Grup, data = gubre_1_)
anova_biyokutle <- aov(`BiyokÃ¼tle (g)` ~ Grup, data = gubre_1_)
```


```{r}
# SonuÃ§larÄ± gÃ¶rÃ¼ntÃ¼leme
summary(anova_boyu)
summary(anova_yaprak)
summary(anova_biyokutle)

```

### SonuÃ§:
- p-deÄŸeriniz 0.05'ten kÃ¼Ã§Ã¼kse, ANOVA testi ile gruplar arasÄ±nda anlamlÄ± bir fark bulunduÄŸunu ve gÃ¼bre tÃ¼rlerinin bitki boyu, yaprak alanÄ± veya biyokÃ¼tle Ã¼zerinde farklÄ± etkiler yaratabileceÄŸini sÃ¶yleyebiliriz.

- Ä°leri AdÄ±m: EÄŸer fark varsa, hangi gruplar arasÄ±nda fark olduÄŸunu gÃ¶rmek iÃ§in post-hoc testleri (Ã¶rneÄŸin Tukey HSD testi) uygulayabiliriz.

```{r}
# Tukey HSD testi
tukey_boyu <- TukeyHSD(anova_boyu)
tukey_yaprak <- TukeyHSD(anova_yaprak)
tukey_biyokutle <- TukeyHSD(anova_biyokutle)
```


```{r}
# SonuÃ§larÄ± gÃ¶rÃ¼ntÃ¼leme
print(tukey_boyu)
print(tukey_yaprak)
print(tukey_biyokutle)

```


### SonuÃ§ Yorumu:
- Kimyasal gÃ¼bre tÃ¼m Ã¶lÃ§Ã¼len parametrelerde (bitki boyu, yaprak alanÄ±, biyokÃ¼tle) kontrol grubuna kÄ±yasla anlamlÄ± ÅŸekilde daha iyi performans gÃ¶stermektedir.
- Organik gÃ¼bre, kimyasal gÃ¼breye kÄ±yasla bitki boyu, yaprak alanÄ± ve biyokÃ¼tle Ã¶lÃ§Ã¼mlerinde daha dÃ¼ÅŸÃ¼k sonuÃ§lar elde etmiÅŸtir, ancak kontrol grubuna kÄ±yasla her Ã¼Ã§ Ã¶lÃ§Ã¼mde de anlamlÄ± farklar bulunmuÅŸtur.
- SonuÃ§lar, kimyasal gÃ¼brenin bitki geliÅŸimi Ã¼zerinde en iyi etkiye sahip olduÄŸunu gÃ¶stermektedir, ancak organik gÃ¼bre de kontrol grubuna gÃ¶re belirgin bir iyileÅŸme saÄŸlamaktadÄ±r.


Bu sonuÃ§lar, kimyasal gÃ¼brenin bitki bÃ¼yÃ¼mesi Ã¼zerinde daha gÃ¼Ã§lÃ¼ bir etki yaptÄ±ÄŸÄ±nÄ± ve organik gÃ¼brenin de etkili bir seÃ§enek olabileceÄŸini ortaya koymaktadÄ±r.

## <span style="color:red;">Soru 4</span>
Bir tekstil maÄŸazasÄ±nÄ±n yÃ¶neticisi, 10 farklÄ± dÃ¶nemde "klasik mavi" kazak satÄ±ÅŸlarÄ±nÄ± incelemiÅŸ ve satÄ±lan kazak sayÄ±sÄ±nÄ± (X1), fiyat deÄŸiÅŸimini (X2, Euro cinsinden), yerel gazetelerdeki reklam maliyetlerini (X3, Euro cinsinden) ve satÄ±ÅŸ asistanÄ±nÄ±n varlÄ±ÄŸÄ±nÄ± (X4, dÃ¶nem baÅŸÄ±na saat olarak) gÃ¶zlemlemiÅŸtir. DÃ¶nemler boyunca aÅŸaÄŸÄ±daki veri matrisini kaydetmiÅŸ ve fiyat deÄŸiÅŸimlerinin, satÄ±lan kazak sayÄ±sÄ± Ã¼zerinde bÃ¼yÃ¼k bir etkisi olmasÄ± gerektiÄŸine ikna olmuÅŸtur. Sizce maÄŸaza yÃ¶neticisi bu gÃ¶rÃ¼ÅŸÃ¼nde haklÄ± mÄ±dÄ±r? HaklÄ±ysa ya da haklÄ± deÄŸilse neden? CevabÄ±nÄ±zÄ± R programÄ±ndaki bulgularÄ±nÄ±zla birlikte destekleyiniz.

X =
\[
\begin{bmatrix}
230 & 181 & 165 & 150 & 97 & 192 & 181 & 189 & 172 & 170 \\
125 & 99 & 97 & 115 & 120 & 100 & 80 & 90 & 95 & 125 \\
200 & 55 & 105 & 85 & 0 & 150 & 85 & 120 & 110 & 130 \\
109 & 107 & 98 & 71 & 82 & 103 & 111 & 93 & 86 & 78 \\
\end{bmatrix}
\]

## <span style="color:red;">Ã‡Ã¶zÃ¼m 4</span>

- Bu soruyu Ã§Ã¶zmek iÃ§in, fiyat deÄŸiÅŸimi (X2) ile satÄ±lan kazak sayÄ±sÄ± (X1) arasÄ±ndaki iliÅŸkiyi inceleyeceÄŸiz. Bunun iÃ§in **korelasyon analizi** yapacaÄŸÄ±z.
- Bu soruda sadece X1 ve X2'yi inceleyeceÄŸiz Ã§Ã¼nkÃ¼ soruda fiyat deÄŸiÅŸiminin satÄ±lan kazak sayÄ±sÄ± Ã¼zerindeki etkisini test etmek isteniyor. DiÄŸer deÄŸiÅŸkenler de satÄ±ÅŸlarÄ± etkileyebilir, ancak bu soruda sorulmak istenen soru, yalnÄ±zca fiyat deÄŸiÅŸiminin etkisiyle ilgili olduÄŸu iÃ§in sadece bu iki deÄŸiÅŸken incelenecektir. EÄŸer daha geniÅŸ bir analiz yapmamÄ±z gerekseydi, tÃ¼m deÄŸiÅŸkenler gÃ¶z Ã¶nÃ¼nde bulundurularak daha karmaÅŸÄ±k bir analiz (Ã§ok deÄŸiÅŸkenli regresyon) yapÄ±labilirdi.

```{r}
# Veriyi tanÄ±mlama
X1 <- c(230, 181, 165, 150, 97, 192, 181, 189, 172, 170)
X2 <- c(125, 99, 97, 115, 120, 100, 80, 90, 95, 125)

# Korelasyon hesaplama
korelasyon <- cor(X1, X2)

# Sonucu yazdÄ±rma
cat("X1 (SatÄ±lan Kazak SayÄ±sÄ±) ile X2 (Fiyat DeÄŸiÅŸimi) arasÄ±ndaki korelasyon:", korelasyon, "\n")
```

Korelasyon KatsayÄ±sÄ±nÄ±n YorumlanmasÄ±
Korelasyon katsayÄ±sÄ±, -1 ile 1 arasÄ±nda bir deÄŸer alÄ±r:

- +1: MÃ¼kemmel pozitif iliÅŸki (deÄŸiÅŸkenler tamamen aynÄ± yÃ¶nde hareket eder)
- -1: MÃ¼kemmel negatif iliÅŸki (deÄŸiÅŸkenler tam ters yÃ¶nde hareket eder)
- 0: HiÃ§bir iliÅŸki yok (deÄŸiÅŸkenler arasÄ±nda doÄŸrusal bir iliÅŸki bulunmaz)

```{r}
# Korelasyon katsayÄ±sÄ±na gÃ¶re deÄŸerlendirme
if(korelasyon > 1) {
  cat("Fiyat deÄŸiÅŸimi ile satÄ±lan kazak sayÄ±sÄ± arasÄ±nda gÃ¼Ã§lÃ¼ bir pozitif iliÅŸki var.\n")
} else if(korelasyon < -1) {
  cat("Fiyat deÄŸiÅŸimi ile satÄ±lan kazak sayÄ±sÄ± arasÄ±nda gÃ¼Ã§lÃ¼ bir negatif iliÅŸki var.\n")
} else {
  cat("Fiyat deÄŸiÅŸimi ile satÄ±lan kazak sayÄ±sÄ± arasÄ±nda zayÄ±f veya hiÃ§bir iliÅŸki yok.\n")
}
```

### SonuÃ§ 
- YÃ¶neticiye GÃ¶re: MaÄŸaza yÃ¶neticisinin fiyat deÄŸiÅŸimlerinin satÄ±ÅŸlar Ã¼zerinde bÃ¼yÃ¼k bir etkisi olduÄŸunu dÃ¼ÅŸÃ¼ndÃ¼ÄŸÃ¼ ifade ediliyordu. Ancak, hesaplanan korelasyon (-0.17) bu gÃ¶rÃ¼ÅŸÃ¼ tam olarak desteklemiyor. Fiyat deÄŸiÅŸimi ile satÄ±lan kazak sayÄ±sÄ± arasÄ±nda zayÄ±f bir negatif iliÅŸki bulunuyor. Bu, fiyat deÄŸiÅŸiminin satÄ±ÅŸlarÄ± Ã¼zerinde Ã¶nemli bir etkisi olmadÄ±ÄŸÄ±na iÅŸaret eder.SatÄ±lan kazak sayÄ±sÄ± ve fiyat deÄŸiÅŸimi arasÄ±ndaki iliÅŸki Ã§ok gÃ¼Ã§lÃ¼ ve anlamlÄ± deÄŸil.


## <span style="color:red">Soru 5</span>
Ã‡ok deÄŸiÅŸkenli normal daÄŸÄ±ldÄ±ÄŸÄ± bilinen bir verisetinde **X1**, 2024 yazÄ±nda bir tatil beldesinde gÃ¼nlÃ¼k satÄ±lan dondurma sayÄ±sÄ±nÄ±, **X2**, Celcius cinsinden gÃ¼nlÃ¼k hava sÄ±caklÄ±ÄŸÄ±nÄ± ve **X3** de o beldeye gelen gÃ¼nlÃ¼k turist sayÄ±sÄ±nÄ± gÃ¶stermektedir. Veri setinin kovaryans matrisi ve ortalama vektÃ¶rÃ¼ aÅŸaÄŸÄ±daki gibi verildiÄŸine gÃ¶re hava sÄ±caklÄ±ÄŸÄ±nÄ±n 25 derece olduÄŸunun bilindiÄŸi bir gÃ¼n iÃ§in, dondurma sayÄ±sÄ± ve gÃ¼nlÃ¼k turist sayÄ±sÄ± deÄŸiÅŸkenlerinin bileÅŸik olasÄ±lÄ±k yoÄŸunluk fonksiyonunu **R** programÄ±ndaki bulgularÄ±nÄ±za dayanarak yazÄ±nÄ±z.

**Kovaryans Matrisi (Î£):**

\[
\Sigma = \begin{pmatrix}
4000 & 80 & 6000 \\
6000 & 120 & 10000 \\
80 & 4 & 120
\end{pmatrix}
\]

**Ortalama VektÃ¶rÃ¼ (Âµ):**

\[
\mu = \begin{pmatrix}
300 \\
30 \\
500
\end{pmatrix}
\]

## <span style="color:red">Ã‡Ã¶zÃ¼m 5</span>

- Bu soruda, **Ã§ok deÄŸiÅŸkenli normal daÄŸÄ±lÄ±m** ile ilgili bir koÅŸullu daÄŸÄ±lÄ±m hesaplamasÄ± yapmamÄ±z gerekiyor. Verilen kovaryans matrisi ve ortalama vektÃ¶rÃ¼ne dayanarak, **X1 (dondurma sayÄ±sÄ±)** ve **X3 (turist sayÄ±sÄ±)** deÄŸiÅŸkenlerinin **X2 = 25** olduÄŸunda bileÅŸik olasÄ±lÄ±k yoÄŸunluk fonksiyonunu hesaplayacaÄŸÄ±z.

### KoÅŸullu DaÄŸÄ±lÄ±m HesaplamasÄ±

Ã‡ok deÄŸiÅŸkenli normal daÄŸÄ±lÄ±mdan **koÅŸullu daÄŸÄ±lÄ±m** hesaplama iÃ§in, **X1 ve X3**'Ã¼n koÅŸullu daÄŸÄ±lÄ±mÄ± ÅŸu ÅŸekilde hesaplanabilir:

- **KoÅŸullu Ortalama**:
  \[
  \mu_{X1|X2} = \mu_{X1} + \Sigma_{X1X2} \Sigma_{X2X2}^{-1} (X2 - \mu_{X2})
  \]
  \[
  \mu_{X3|X2} = \mu_{X3} + \Sigma_{X3X2} \Sigma_{X2X2}^{-1} (X2 - \mu_{X2})
  \]

- **KoÅŸullu Kovaryans**:
  \[
  \Sigma_{X1|X2} = \Sigma_{X1X1} - \Sigma_{X1X2} \Sigma_{X2X2}^{-1} \Sigma_{X2X1}
  \]
  \[
  \Sigma_{X3|X2} = \Sigma_{X3X3} - \Sigma_{X3X2} \Sigma_{X2X2}^{-1} \Sigma_{X2X3}
  \]
  
  

 **Veri GiriÅŸi**:

```{r}
# Verilen Kovaryans Matrisi (Î£)
Sigma <- matrix(c(4000, 80, 6000,
                  6000, 120, 10000,
                  80, 4, 120), nrow = 3, byrow = TRUE)

# Verilen Ortalama VektÃ¶rÃ¼ (Âµ)
mu <- c(300, 30, 500)

# Hava sÄ±caklÄ±ÄŸÄ± (X2) iÃ§in verilen deÄŸer
X2_value <- 25

```


 **KoÅŸullandÄ±rma**:
```{r}
# Kovaryans parÃ§alama
Sigma_12 <- Sigma[c(1, 3), 2]
Sigma_22 <- Sigma[2, 2]
Sigma_11 <- Sigma[c(1, 3), c(1, 3)]

# Ortalama vektÃ¶r parÃ§alama
mu_1 <- mu[c(1, 3)]
mu_2 <- mu[2]

# KoÅŸullu Ortalama
mu_cond <- mu_1 + Sigma_12 / Sigma_22 * (X2_value - mu_2)

# KoÅŸullu Kovaryans
Sigma_cond <- Sigma_11 - (Sigma_12 %*% t(Sigma_12)) / Sigma_22

# Kovaryans Matrisini Simetrik Hale Getirme
Sigma_cond <- (Sigma_cond + t(Sigma_cond)) / 2

```


```{r}
mu_cond
Sigma_cond
```
- KoÅŸullu Ortalama: KoÅŸullu ortalama, verilen bir koÅŸul altÄ±nda (bu durumda hava sÄ±caklÄ±ÄŸÄ± 
ğ‘‹
2
=
25
X 
2
â€‹
 =25) diÄŸer deÄŸiÅŸkenlerin beklenen deÄŸerini temsil eder. Yani, hava sÄ±caklÄ±ÄŸÄ±nÄ±n 25Â°C olduÄŸu bir gÃ¼nde, dondurma sayÄ±sÄ±nÄ±n ve turist sayÄ±sÄ±nÄ±n beklenen deÄŸerleri sÄ±rasÄ±yla 296.67 ve 499.83'tÃ¼r.

- KoÅŸullu Kovaryans: KoÅŸullu kovaryans matrisi, verilen koÅŸul altÄ±nda (hava sÄ±caklÄ±ÄŸÄ± 
ğ‘‹
2
=
25
X 
2
â€‹
 =25) deÄŸiÅŸkenler arasÄ±ndaki iliÅŸkinin gÃ¼cÃ¼nÃ¼ ve yÃ¶nÃ¼nÃ¼ gÃ¶sterir. Bu durumda:

Dondurma sayÄ±sÄ± ve turist sayÄ±sÄ± arasÄ±ndaki kovaryans 3037.33'tÃ¼r, bu da iki deÄŸiÅŸken arasÄ±nda gÃ¼Ã§lÃ¼ bir iliÅŸki olduÄŸunu gÃ¶sterir.
Dondurma sayÄ±sÄ±nÄ±n ve turist sayÄ±sÄ±nÄ±n kendi varyanslarÄ± sÄ±rasÄ±yla 3946.67 ve 119.87'dir.


### Ã‡ok deÄŸiÅŸkenli yoÄŸunluk fonksiyonu
```{r}
library(mvtnorm)
dens <- function(x1, x3) {
  dmvnorm(c(x1, x3), mean = mu_cond, sigma = Sigma_cond)
}
```
Fonksiyonun AÃ§Ä±klamasÄ±
dens: Bu fonksiyon, 
ğ‘‹
1
X 
1
â€‹
  ve 
ğ‘‹
3
X 
3
â€‹
  iÃ§in koÅŸullu yoÄŸunluÄŸu hesaplar. Fonksiyonun parametreleri:
  
- x1: Dondurma sayÄ±sÄ± (X1) iÃ§in bir deÄŸeri temsil eder.
- x3: Turist sayÄ±sÄ± (X3) iÃ§in bir deÄŸeri temsil eder.
- dmvnorm: mvtnorm paketinden gelen bir fonksiyondur ve Ã§ok deÄŸiÅŸkenli normal daÄŸÄ±lÄ±ma ait yoÄŸunluk fonksiyonunu hesaplar.
- mean: KoÅŸullu ortalamalarÄ± temsil eden mu_cond vektÃ¶rÃ¼ kullanÄ±lÄ±r.
- sigma: KoÅŸullu kovaryans matrisini temsil eden Sigma_cond matrisi kullanÄ±lÄ±r.


## <span style="color:red">Soru 6</span>

OlasÄ±lÄ±k, Matematiksel Ä°statistik ve Regresyon Analizi derslerinden 100 Ã¼zerinden alÄ±nan notlar aÅŸaÄŸÄ±da verilmiÅŸtir. Herhangi bir Ã¶ÄŸrencinin bu Ã¼Ã§ dersin eÅŸit aÄŸÄ±rlÄ±klandÄ±rmalarÄ± Ã¼zerinden hesaplanacak not ortalamasÄ± Y olarak tanÄ±mlanÄ±rsa, Yâ€™nin 70â€™ten az olma olasÄ±lÄ±ÄŸÄ± kaÃ§tÄ±r? CevabÄ±nÄ±zÄ± R programÄ±ndaki bulgularÄ±nÄ±zla 2 birlikte destekleyiniz.

### Ã–ÄŸrenciler ve Notlar

<div style="text-align: center;">

| Ã–ÄŸrenci | OlasÄ±lÄ±k | Matematiksel Ä°statistik |     Ã–rnekleme.    |
|---------|----------|-------------------------|-------------------|
| Gizem   | 88       | 76                      | 51                |
| Tuncay  | 91       | 82                      | 70                |
| Can     | 64       | 72                      | 98                |
| TuÄŸÃ§e   | 83       | 88                      | 66                |
| GÃ¶rkem  | 77       | 80                      | 94                |
| AkÄ±n    | 45       | 60                      | 55                |
| Ebru    | 48       | 44                      | 73                |
| Burcu   | 51       | 48                      | 64                |
| Funda   | 63       | 61                      | 79                |
| Hande   | 65       | 63                      | 44                |

</div>

## <span style="color:red">Cevap 6</span>

### AdÄ±mlar:

1. **Veri Seti OluÅŸturma**: Ã–ÄŸrencilerin notlarÄ± bir veri Ã§erÃ§evesi olarak dÃ¼zenlenir.
2. **Ortalama Hesaplama**: ÃœÃ§ dersin ortalamasÄ±nÄ± almak iÃ§in her Ã¶ÄŸrencinin notlarÄ± eÅŸit aÄŸÄ±rlÄ±klÄ± olarak toplanÄ±r ve bÃ¶lÃ¼nÃ¼r.
3. **Normallik Testi** : Z scoruna yÃ¶nelebilmek iÃ§in Shapiro-Wilk testi ile ortalama notlarÄ±n normal daÄŸÄ±lÄ±ma uygunluÄŸunu kontrol edeceÄŸiz. EÄŸer p-deÄŸeri 0.05'ten bÃ¼yÃ¼kse, normal daÄŸÄ±lÄ±m varsayÄ±mÄ±nÄ± kabul edebiliriz.
4. **Zskoru hesaplama** : NormalliÄŸe uyduÄŸu taktirde ortalama ve standart sapma yardÄ±mÄ± ile Z skoru hesaplanacak.
5. **70'ten KÃ¼Ã§Ã¼k OlanlarÄ± Sayma**: OrtalamalarÄ± 70'ten kÃ¼Ã§Ã¼k olan Ã¶ÄŸrenciler sayÄ±lÄ±r.
6. **OlasÄ±lÄ±ÄŸÄ± Hesaplama**: Bu sayÄ±yÄ± toplam Ã¶ÄŸrenci sayÄ±sÄ±na bÃ¶lerek olasÄ±lÄ±k hesaplanÄ±r.



```{r}
library(knitr)
library(kableExtra)
# Verilen notlar
ogrenciler <- data.frame(
  Ogrenci = c("Gizem", "Tuncay", "Can", "TuÄŸÃ§e", "GÃ¶rkem", "AkÄ±n", "Ebru", "Burcu", "Funda", "Hande"),
  Olasilik = c(88, 91, 64, 83, 77, 45, 48, 51, 63, 65),
  Matematik = c(76, 82, 72, 88, 80, 60, 44, 48, 61, 63),
  Regresyon = c(51, 70, 98, 66, 94, 55, 73, 64, 79, 44)
)

```

```{r}
ogrenciler$Y <- rowMeans(ogrenciler[, c("Olasilik", "Matematik", "Regresyon")])
```


```{r , echo=FALSE}
ogrenciler$Y <- rowMeans(ogrenciler[, c("Olasilik", "Matematik", "Regresyon")])
# Tabloyu oluÅŸturma
kable(ogrenciler, format = "html", caption = "Ã–ÄŸrenci NotlarÄ± ve OrtalamalarÄ±") %>%
  kable_styling(full_width = FALSE, bootstrap_options = c("striped", "hover", "condensed")) %>%
  row_spec(0, bold = TRUE, background = "#D3D3D3") %>%
  column_spec(5, color = "white", background = ifelse(ogrenciler$Y < 70, "salmon", "lightgreen"))

```


### Normallik testi
```{r}
# Shapiro-Wilk testi ile normallik kontrolÃ¼
shapiro_test <- shapiro.test(ogrenciler$Y)
shapiro_test
```
- **p deÄŸeri 0.05 den bÃ¼yÃ¼k olduÄŸundan normallik varsayÄ±mÄ± saÄŸlanmÄ±ÅŸtÄ±r.**



```{r}
# Ortalama ve standart sapma
mean_Y <- mean(ogrenciler$Y)
mean_Y
sd_Y <- sd(ogrenciler$Y)
sd_Y

# Z-skoru hesaplama
z_score <- (70 - mean_Y) / sd_Y

# Normal daÄŸÄ±lÄ±mdan olasÄ±lÄ±k hesaplama
probability_normal <- pnorm(z_score)
probability_normal

```

- **Bu, Ã¶ÄŸrencilerin eÅŸit aÄŸÄ±rlÄ±klÄ± not ortalamalarÄ± 70'ten kÃ¼Ã§Ã¼k olma olasÄ±lÄ±ÄŸÄ±nÄ±n %56 olduÄŸunu gÃ¶steriyor.**

## <span style="color:red">Soru 7</span>
En Ã§ok hangi soru ya da sorularda zorlandÄ±ÄŸÄ±nÄ±zÄ± gerekÃ§eleri ile belirtiniz

## <span style="color:red">Cevap 7</span>

- Soruyu anlamak ve sorunun Ã§Ã¶zÃ¼mÃ¼ne istinaden bir Ã§ok Ã§Ã¶zÃ¼m yÃ¶ntemi olmasÄ± ve ilgili Ã§Ã¶zÃ¼mleri kodlamalara taÅŸÄ±rken yaÅŸadÄ±ÄŸÄ±m sorunlar nedeniyle beni en Ã§ok zorlayan hem yazÄ±lÄ±msal hem de matematiksel anlamda 2. soru oldu.